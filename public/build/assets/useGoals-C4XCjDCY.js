import{u as f,k as s,m as u}from"./app-CpeMjnII.js";function F(){const a=u([]),t=u(!1),l=u(null),o=f({title:"",description:"",target_value:100,current_value:0,deadline:null}),c=s(()=>a.value.length>0),n=s(()=>a.value.filter(e=>e.status==="completed")),i=s(()=>a.value.filter(e=>e.status==="in_progress")),d=s(()=>a.value.filter(e=>e.status==="pending")),g=s(()=>a.value.length===0?0:Math.round(n.value.length/a.value.length*100));return{goals:a,loading:t,error:l,form:o,hasGoals:c,completedGoals:n,inProgressGoals:i,pendingGoals:d,completionRate:g,createGoal:async e=>{t.value=!0,l.value=null;try{await o.post(route("goals.store"),e),o.reset()}catch(r){l.value="Failed to create goal",console.error("Error creating goal:",r)}finally{t.value=!1}},updateGoal:async(e,r)=>{t.value=!0,l.value=null;try{await o.patch(route("goals.update",e),r)}catch(v){l.value="Failed to update goal",console.error("Error updating goal:",v)}finally{t.value=!1}},deleteGoal:async e=>{if(confirm("Are you sure you want to delete this goal?")){t.value=!0,l.value=null;try{await o.delete(route("goals.destroy",e))}catch(r){l.value="Failed to delete goal",console.error("Error deleting goal:",r)}finally{t.value=!1}}},resetForm:()=>{o.reset(),l.value=null}}}export{F as u};
