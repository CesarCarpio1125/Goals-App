import{u as p,g as a,a as c,b as s,h as b,w as f,d as e,e as x,j as n,y as d,o as i,t as u,i as m,F as y}from"./app-CpeMjnII.js";import{_}from"./AuthenticatedLayout-DYUZiCL3.js";const v={class:"mx-auto max-w-7xl sm:px-6 lg:px-8 py-12"},w={class:"bg-white shadow-sm rounded-lg"},h={class:"border-t border-gray-200 px-4 py-5 sm:p-6"},C={class:"mt-1"},k={key:0,class:"mt-2 text-sm text-red-600"},F={class:"mt-1"},S={key:0,class:"mt-2 text-sm text-red-600"},E={class:"mt-1"},B={key:0,class:"mt-2 text-sm text-red-600"},V={class:"mt-1"},A=["min"],G={key:0,class:"mt-2 text-sm text-red-600"},R={class:"flex justify-end"},U=["disabled"],D={key:0},L={key:1},I={__name:"Create",setup(N){const t=p({title:"",description:"",target_value:100,current_value:0,deadline:""}),g=async()=>{if(!t.title.trim()){console.log("Title is empty, preventing submission");return}console.log("=== FORM SUBMISSION DEBUG ==="),console.log("Form data:",t.data()),console.log("Form processing:",t.processing),console.log("Form errors:",t.errors),console.log("Route goals.store:",route("goals.store"));try{await t.post(route("goals.store"),{onSuccess:r=>{console.log("=== SUCCESS CALLBACK ==="),console.log("Page props:",r.props),console.log("Flash messages:",r.props.flash),console.log("Goal created successfully"),t.reset()},onError:r=>{console.log("=== ERROR CALLBACK ==="),console.log("Form errors:",r),console.log("All form errors:",t.errors)},onFinish:()=>{console.log("=== FINISH CALLBACK ==="),console.log("Form processing finished")}})}catch(r){console.error("=== CATCH ERROR ==="),console.error("Error creating goal:",r),console.error("Error details:",r.message)}};return(r,o)=>(i(),a(y,null,[c(s(b),{title:"Create Goal"}),c(_,null,{default:f(()=>[e("div",v,[o[10]||(o[10]=e("div",{class:"bg-blue-100 border border-blue-200 text-blue-800 px-4 py-3 rounded mb-6"}," DEBUG: Create Goal Page Loaded ",-1)),e("div",w,[o[9]||(o[9]=e("div",{class:"px-4 py-5 sm:p-6"},[e("h3",{class:"text-lg leading-6 font-medium text-gray-900"}," Create New Goal "),e("div",{class:"mt-2 max-w-xl text-sm text-gray-500"}," Set a new goal to track your progress. ")],-1)),e("div",h,[e("form",{onSubmit:x(g,["prevent"]),class:"space-y-6"},[e("div",null,[o[4]||(o[4]=e("label",{for:"title",class:"block text-sm font-medium text-gray-700"}," Goal Title ",-1)),e("div",C,[n(e("input",{type:"text",id:"title","onUpdate:modelValue":o[0]||(o[0]=l=>s(t).title=l),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",required:"",placeholder:"Enter your goal title..."},null,512),[[d,s(t).title]])]),s(t).errors.title?(i(),a("p",k,u(s(t).errors.title),1)):m("",!0)]),e("div",null,[o[5]||(o[5]=e("label",{for:"description",class:"block text-sm font-medium text-gray-700"}," Description ",-1)),e("div",F,[n(e("textarea",{id:"description","onUpdate:modelValue":o[1]||(o[1]=l=>s(t).description=l),rows:"3",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"},null,512),[[d,s(t).description]])]),s(t).errors.description?(i(),a("p",S,u(s(t).errors.description),1)):m("",!0)]),e("div",null,[o[6]||(o[6]=e("label",{for:"target_value",class:"block text-sm font-medium text-gray-700"}," Target Value ",-1)),e("div",E,[n(e("input",{type:"number",id:"target_value","onUpdate:modelValue":o[2]||(o[2]=l=>s(t).target_value=l),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",required:""},null,512),[[d,s(t).target_value]])]),s(t).errors.target_value?(i(),a("p",B,u(s(t).errors.target_value),1)):m("",!0)]),e("div",null,[o[7]||(o[7]=e("label",{for:"deadline",class:"block text-sm font-medium text-gray-700"}," Deadline (Fecha de Vencimiento) - Opcional ",-1)),e("div",V,[n(e("input",{type:"date",id:"deadline","onUpdate:modelValue":o[3]||(o[3]=l=>s(t).deadline=l),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",min:new Date().toISOString().split("T")[0]},null,8,A),[[d,s(t).deadline]])]),s(t).errors.deadline?(i(),a("p",G,u(s(t).errors.deadline),1)):m("",!0),o[8]||(o[8]=e("p",{class:"mt-1 text-sm text-gray-500"}," Establece una fecha l√≠mite para tu objetivo (opcional) ",-1))]),e("div",R,[e("button",{type:"submit",class:"inline-flex justify-center rounded-md border border-transparent bg-blue-600 py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-25",disabled:s(t).processing},[s(t).processing?(i(),a("span",D,"Creating...")):(i(),a("span",L,"Create Goal"))],8,U)])],32)])])])]),_:1})],64))}};export{I as default};
