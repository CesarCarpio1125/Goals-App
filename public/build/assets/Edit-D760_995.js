import{u as w,g as n,a as g,b as s,h,w as p,d as e,l as b,f,e as k,j as c,y as x,o as u,t as r,i as m,F as D,k as U}from"./app-CpeMjnII.js";import{_}from"./AuthenticatedLayout-DYUZiCL3.js";const C={class:"mx-auto max-w-7xl sm:px-6 lg:px-8 py-12"},S={class:"mb-8"},B={class:"flex items-center space-x-4 mb-4"},T={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},V={class:"lg:col-span-2"},E={class:"bg-white shadow overflow-hidden sm:rounded-lg"},M={class:"border-t border-gray-200 px-4 py-5 sm:p-6"},G={class:"mt-1"},N={key:0,class:"mt-2 text-sm text-red-600"},z={class:"mt-1"},F={key:0,class:"mt-2 text-sm text-red-600"},I={class:"mt-1"},j={key:0,class:"mt-2 text-sm text-red-600"},q={class:"mt-1"},O={key:0,class:"mt-2 text-sm text-red-600"},H={class:"flex justify-end space-x-3"},P=["disabled"],$={key:0,class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24"},A={class:"space-y-6"},L={class:"bg-white shadow overflow-hidden sm:rounded-lg"},R={class:"border-t border-gray-200 px-4 py-5 sm:p-6 space-y-4"},J={class:"mt-1 text-sm text-gray-900"},K={class:"mt-1 text-sm text-gray-900"},Q={class:"mt-1 text-sm text-gray-900"},W={class:"mt-1 text-sm text-gray-900"},X={class:"mt-1 text-sm text-gray-900"},Y={class:"mt-1 text-sm text-gray-900"},te={__name:"Edit",props:{goal:{type:Object,required:!0}},setup(o){const d=o,l=w({title:d.goal.title,description:d.goal.description,target_value:d.goal.target_value,deadline:d.goal.deadline?new Date(d.goal.deadline).toISOString().split("T")[0]:""}),v=()=>{console.log("=== EDIT SUBMIT DEBUG ==="),console.log("Form data:",l.data()),console.log("Goal ID:",d.goal.id),console.log("Route:",route("goals.update",d.goal.id)),l.patch(route("goals.update",d.goal.id),{onSuccess:a=>{console.log("Update successful:",a)},onError:a=>{console.log("Update errors:",a)},onFinish:()=>{console.log("Update finished")}})},y=U(()=>d.goal.deadline?new Date(d.goal.deadline).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}):"No deadline");return(a,t)=>(u(),n(D,null,[g(s(h),{title:`Edit ${o.goal.title}`},null,8,["title"]),g(_,null,{default:p(()=>[e("div",C,[e("div",S,[e("div",B,[g(s(b),{href:a.route("goals.show",o.goal.id),class:"text-blue-600 hover:text-blue-800 flex items-center"},{default:p(()=>[...t[4]||(t[4]=[e("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1),f(" Back to Goal ",-1)])]),_:1},8,["href"])]),t[5]||(t[5]=e("h1",{class:"text-3xl font-bold text-gray-900"},"Edit Goal",-1)),t[6]||(t[6]=e("p",{class:"mt-2 text-gray-600"},"Update your goal information",-1))]),e("div",T,[e("div",V,[e("div",E,[t[14]||(t[14]=e("div",{class:"px-4 py-5 sm:px-6"},[e("h3",{class:"text-lg leading-6 font-medium text-gray-900"},"Goal Information"),e("p",{class:"mt-1 max-w-2xl text-sm text-gray-500"},"Update the details of your goal")],-1)),e("div",M,[e("form",{onSubmit:k(v,["prevent"]),class:"space-y-6"},[e("div",null,[t[7]||(t[7]=e("label",{for:"title",class:"block text-sm font-medium text-gray-700"}," Goal Title ",-1)),e("div",G,[c(e("input",{id:"title","onUpdate:modelValue":t[0]||(t[0]=i=>s(l).title=i),type:"text",required:"",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Enter your goal title"},null,512),[[x,s(l).title]]),s(l).errors.title?(u(),n("div",N,r(s(l).errors.title),1)):m("",!0)])]),e("div",null,[t[8]||(t[8]=e("label",{for:"description",class:"block text-sm font-medium text-gray-700"}," Description ",-1)),e("div",z,[c(e("textarea",{id:"description","onUpdate:modelValue":t[1]||(t[1]=i=>s(l).description=i),rows:"4",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Describe your goal in detail"},null,512),[[x,s(l).description]]),s(l).errors.description?(u(),n("div",F,r(s(l).errors.description),1)):m("",!0)])]),e("div",null,[t[9]||(t[9]=e("label",{for:"target_value",class:"block text-sm font-medium text-gray-700"}," Target Value ",-1)),e("div",I,[c(e("input",{id:"target_value","onUpdate:modelValue":t[2]||(t[2]=i=>s(l).target_value=i),type:"number",required:"",min:"1",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"100"},null,512),[[x,s(l).target_value,void 0,{number:!0}]]),s(l).errors.target_value?(u(),n("div",j,r(s(l).errors.target_value),1)):m("",!0)])]),e("div",null,[t[10]||(t[10]=e("label",{for:"deadline",class:"block text-sm font-medium text-gray-700"}," Deadline (Optional) ",-1)),e("div",q,[c(e("input",{id:"deadline","onUpdate:modelValue":t[3]||(t[3]=i=>s(l).deadline=i),type:"date",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,512),[[x,s(l).deadline]]),s(l).errors.deadline?(u(),n("div",O,r(s(l).errors.deadline),1)):m("",!0)])]),e("div",H,[g(s(b),{href:a.route("goals.show",o.goal.id),class:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50"},{default:p(()=>[...t[11]||(t[11]=[f(" Cancel ",-1)])]),_:1},8,["href"]),e("button",{type:"submit",disabled:s(l).processing,class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 disabled:opacity-50"},[s(l).processing?(u(),n("svg",$,[...t[12]||(t[12]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):m("",!0),t[13]||(t[13]=f(" Save Changes ",-1))],8,P)])],32)])])]),e("div",A,[e("div",L,[t[21]||(t[21]=e("div",{class:"px-4 py-5 sm:px-6"},[e("h3",{class:"text-lg leading-6 font-medium text-gray-900"},"Current Goal")],-1)),e("div",R,[e("div",null,[t[15]||(t[15]=e("dt",{class:"text-sm font-medium text-gray-500"},"Title",-1)),e("dd",J,r(o.goal.title),1)]),e("div",null,[t[16]||(t[16]=e("dt",{class:"text-sm font-medium text-gray-500"},"Description",-1)),e("dd",K,r(o.goal.description||"No description"),1)]),e("div",null,[t[17]||(t[17]=e("dt",{class:"text-sm font-medium text-gray-500"},"Target",-1)),e("dd",Q,r(o.goal.target_value),1)]),e("div",null,[t[18]||(t[18]=e("dt",{class:"text-sm font-medium text-gray-500"},"Current Progress",-1)),e("dd",W,r(o.goal.current_value||0),1)]),e("div",null,[t[19]||(t[19]=e("dt",{class:"text-sm font-medium text-gray-500"},"Progress",-1)),e("dd",X,r(o.goal.target_value>0?Math.round(o.goal.current_value/o.goal.target_value*100):0)+"% ",1)]),e("div",null,[t[20]||(t[20]=e("dt",{class:"text-sm font-medium text-gray-500"},"Deadline",-1)),e("dd",Y,r(y.value),1)])])]),t[22]||(t[22]=e("div",{class:"bg-blue-50 border border-blue-200 rounded-lg p-4"},[e("div",{class:"flex"},[e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-5 w-5 text-blue-400",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule":"evenodd"})])]),e("div",{class:"ml-3"},[e("h3",{class:"text-sm font-medium text-blue-800"},"Editing Tips"),e("div",{class:"mt-2 text-sm text-blue-700"},[e("ul",{class:"list-disc list-inside space-y-1"},[e("li",null,"Set realistic and measurable targets"),e("li",null,"Break large goals into smaller milestones"),e("li",null,"Set deadlines to create accountability"),e("li",null,"Update your progress regularly")])])])])],-1))])])])]),_:1})],64))}};export{te as default};
