import{m as H,k as h,o as r,g as d,d as e,t as y,F as G,p as P,n as U,i as C,c as Q,a as M,b as f,q as I,w as A,h as R,l as W,f as q,s as K}from"./app-DO8EwTB7.js";import{_ as X}from"./AuthenticatedLayout-CKMOUawX.js";function Z(g=new Date){const u=H(new Date(g.getFullYear(),g.getMonth(),1)),s=H(g),x=H(!1),b=H(null),v=h(()=>{const i=new Date;return i.setHours(0,0,0,0),i}),l=h(()=>{const i=new Date(2020,0,1);return u.value>i}),t=h(()=>{const i=new Date(2030,11,31),p=new Date(u.value);return p.setMonth(p.getMonth()+1),p<=i}),o=()=>{l.value&&(u.value=new Date(u.value.getFullYear(),u.value.getMonth()-1,1))},n=()=>{t.value&&(u.value=new Date(u.value.getFullYear(),u.value.getMonth()+1,1))},w=()=>{const i=new Date;u.value=new Date(i.getFullYear(),i.getMonth(),1),s.value=i},k=i=>{s.value=new Date(i)},D=(i,p)=>{u.value=new Date(i,p,1)},Y=i=>{u.value=new Date(i,u.value.getMonth(),1)},S=i=>{const p=[];return i.forEach(a=>{a.created_at&&p.push({id:`goal-created-${a.id}`,type:"goal-created",title:`Goal Created: ${a.title}`,description:a.description,date:a.created_at,actionable:!0,actionText:"View Goal",actionData:a}),a.deadline&&p.push({id:`goal-deadline-${a.id}`,type:"goal-deadline",title:`Deadline: ${a.title}`,description:"Goal deadline approaching",date:a.deadline,actionable:!0,actionText:"View Goal",actionData:a}),a.status==="completed"&&a.updated_at&&p.push({id:`goal-completed-${a.id}`,type:"goal-completed",title:`Completed: ${a.title}`,description:"Congratulations! Goal achieved!",date:a.updated_at,actionable:!0,actionText:"View Goal",actionData:a}),a.tasks&&a.tasks.length>0&&a.tasks.forEach(_=>{_.due_date&&p.push({id:`task-due-${_.id}`,type:"task-due",title:`Task Due: ${_.title}`,description:`Task for goal: ${a.title}`,date:_.due_date,actionable:!0,actionText:"View Task",actionData:{goal:a,task:_}})})}),p},N=(i,p,a)=>i.filter(_=>{const c=new Date(_.date);return c>=p&&c<=a}),T=i=>s.value?i.filter(p=>{const a=new Date(p.date);a.setHours(0,0,0,0);const _=new Date(s.value);return _.setHours(0,0,0,0),a.toDateString()===_.toDateString()}):[],E=()=>["January","February","March","April","May","June","July","August","September","October","November","December"][u.value.getMonth()],F=()=>u.value.getFullYear();return{currentMonth:u,selectedDate:s,isLoading:x,error:b,today:v,canGoToPrevious:l,canGoToNext:t,goToPreviousMonth:o,goToNextMonth:n,goToToday:w,selectDate:k,goToMonth:D,goToYear:Y,generateEventsFromGoals:S,getEventsForDateRange:N,getEventsForSelectedDate:T,getCurrentMonthName:E,getCurrentYear:F,getMonthYearString:()=>`${E()} ${F()}`,clearError:()=>{b.value=null}}}const ee={class:"flex items-center justify-between mb-6"},te=["disabled"],se={class:"text-center"},oe={class:"text-xl font-bold text-gray-900"},ne={class:"text-sm text-gray-500"},ae=["disabled"],re={__name:"CalendarNavigation",props:{currentMonth:{type:Date,required:!0},disablePrevious:{type:Boolean,default:!1},disableNext:{type:Boolean,default:!1}},emits:["previous","next"],setup(g,{emit:u}){const s=g,x=h(()=>`${["January","February","March","April","May","June","July","August","September","October","November","December"][s.currentMonth.getMonth()]} ${s.currentMonth.getFullYear()}`),b=h(()=>{const l=new Date(s.currentMonth.getFullYear(),s.currentMonth.getMonth(),1),t=new Date(s.currentMonth.getFullYear(),s.currentMonth.getMonth()+1,0),o=v(l),n=v(t);return o===n?`Week ${o}`:`Weeks ${o}-${n}`}),v=l=>{const t=new Date(Date.UTC(l.getFullYear(),l.getMonth(),l.getDate())),o=t.getUTCDay()||7;t.setUTCDate(t.getUTCDate()+4-o);const n=new Date(Date.UTC(t.getUTCFullYear(),0,1));return Math.ceil(((t-n)/864e5+1)/7)};return(l,t)=>(r(),d("div",ee,[e("button",{onClick:t[0]||(t[0]=o=>l.$emit("previous")),class:"p-2 rounded-lg hover:bg-gray-100 transition-colors duration-200",disabled:g.disablePrevious},[...t[2]||(t[2]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])],8,te),e("div",se,[e("h2",oe,y(x.value),1),e("p",ne,y(b.value),1)]),e("button",{onClick:t[1]||(t[1]=o=>l.$emit("next")),class:"p-2 rounded-lg hover:bg-gray-100 transition-colors duration-200",disabled:g.disableNext},[...t[3]||(t[3]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])],8,ae)]))}},le={class:"text-sm font-medium"},ie={key:0,class:"mt-1"},de={class:"flex justify-center space-x-1"},ue={key:1,class:"absolute top-1 right-1 w-2 h-2 bg-blue-500 rounded-full"},ce={key:2,class:"absolute bottom-1 right-1 w-2 h-2 bg-red-500 rounded-full animate-pulse"},ge={__name:"CalendarDay",props:{date:{type:Date,required:!0},events:{type:Array,default:()=>[]},isCurrentMonth:{type:Boolean,default:!0},isToday:{type:Boolean,default:!1},isSelected:{type:Boolean,default:!1}},emits:["select"],setup(g,{emit:u}){const s=g,x=h(()=>s.date.getDate()),b=h(()=>s.events.length>0),v=h(()=>s.events.some(o=>o.type==="goal-deadline")),l=h(()=>{const o=[];return s.isCurrentMonth?o.push("text-gray-900"):o.push("text-gray-400"),s.isToday&&o.push("bg-blue-100","font-bold"),s.isSelected&&o.push("ring-2","ring-blue-500","bg-blue-50"),b.value&&o.push("font-semibold"),o}),t=o=>({"goal-deadline":"bg-red-500","goal-created":"bg-blue-500","goal-completed":"bg-green-500","task-due":"bg-yellow-500",milestone:"bg-purple-500"})[o]||"bg-gray-500";return(o,n)=>(r(),d("div",{class:U([l.value,"relative p-2 text-center cursor-pointer transition-all duration-200 hover:bg-blue-50"]),onClick:n[0]||(n[0]=w=>o.$emit("select",g.date))},[e("div",le,y(x.value),1),b.value?(r(),d("div",ie,[e("div",de,[(r(!0),d(G,null,P(g.events.slice(0,3),(w,k)=>(r(),d("div",{key:k,class:U([t(w.type),"w-1.5 h-1.5 rounded-full"])},null,2))),128))])])):C("",!0),g.isToday?(r(),d("div",ue)):C("",!0),v.value?(r(),d("div",ce)):C("",!0)],2))}},me={class:"bg-white rounded-lg shadow-sm border border-gray-200"},he={class:"grid grid-cols-7 border-b border-gray-200"},ve={class:"grid grid-cols-7"},pe={__name:"CalendarGrid",props:{currentMonth:{type:Date,required:!0},selectedDate:{type:Date,default:null},events:{type:Array,default:()=>[]}},emits:["select-day"],setup(g,{emit:u}){const s=g,x=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],b=h(()=>{const v=[],l=s.currentMonth.getFullYear(),t=s.currentMonth.getMonth(),o=new Date(l,t,1),n=new Date(o);n.setDate(n.getDate()-o.getDay());const w=new Date;w.setHours(0,0,0,0);for(let k=0;k<42;k++){const D=new Date(n);D.setDate(n.getDate()+k);const Y=D.getMonth()===t,S=D.toDateString()===w.toDateString(),N=s.selectedDate&&D.toDateString()===s.selectedDate.toDateString(),T=s.events.filter(E=>{const F=new Date(E.date);return F.setHours(0,0,0,0),D.setHours(0,0,0,0),F.toDateString()===D.toDateString()});v.push({key:`${D.getFullYear()}-${D.getMonth()}-${D.getDate()}`,date:D,isCurrentMonth:Y,isToday:S,isSelected:N,events:T})}return v});return(v,l)=>(r(),d("div",me,[e("div",he,[(r(),d(G,null,P(x,t=>e("div",{key:t,class:"py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider"},y(t),1)),64))]),e("div",ve,[(r(!0),d(G,null,P(b.value,t=>(r(),Q(ge,{key:t.key,date:t.date,events:t.events,"is-current-month":t.isCurrentMonth,"is-today":t.isToday,"is-selected":t.isSelected,onSelect:o=>v.$emit("select-day",t.date)},null,8,["date","events","is-current-month","is-today","is-selected","onSelect"]))),128))])]))}},ye={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-4"},xe={class:"flex items-center justify-between mb-4"},be={class:"text-lg font-semibold text-gray-900"},fe={key:0,class:"text-sm text-gray-500"},De={key:0,class:"text-center py-8"},we={key:1,class:"space-y-3"},_e={class:"flex-shrink-0"},ke={class:"flex-1 min-w-0"},$e={class:"text-sm font-medium text-gray-900 truncate"},Me={key:0,class:"text-sm text-gray-500 mt-1"},Ce={class:"flex items-center mt-2 space-x-4"},Te={key:0,class:"text-xs text-gray-500"},Se={class:"text-xs text-gray-500"},Fe={class:"flex-shrink-0"},Ne=["onClick"],Ee={__name:"CalendarEventList",props:{selectedDate:{type:Date,required:!0},events:{type:Array,default:()=>[]}},emits:["event-action"],setup(g,{emit:u}){const s=g,x=h(()=>{const t={weekday:"long",year:"numeric",month:"long",day:"numeric"};return s.selectedDate.toLocaleDateString("en-US",t)}),b=h(()=>[...s.events].sort((t,o)=>{const n=t.time||"00:00",w=o.time||"00:00";return n.localeCompare(w)})),v=t=>({"goal-deadline":"bg-red-500","goal-created":"bg-blue-500","goal-completed":"bg-green-500","task-due":"bg-yellow-500",milestone:"bg-purple-500"})[t]||"bg-gray-500",l=t=>({"goal-deadline":"Goal Deadline","goal-created":"Goal Created","goal-completed":"Goal Completed","task-due":"Task Due",milestone:"Milestone"})[t]||"Event";return(t,o)=>(r(),d("div",ye,[e("div",xe,[e("h3",be,y(x.value),1),g.events.length>0?(r(),d("span",fe,y(g.events.length)+" "+y(g.events.length===1?"event":"events"),1)):C("",!0)]),g.events.length===0?(r(),d("div",De,[...o[0]||(o[0]=[e("svg",{class:"w-12 h-12 mx-auto mb-4 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1),e("p",{class:"text-gray-500"},"No events scheduled for this day",-1)])])):(r(),d("div",we,[(r(!0),d(G,null,P(b.value,n=>(r(),d("div",{key:n.id,class:"flex items-start space-x-3 p-3 rounded-lg border border-gray-100 hover:bg-gray-50 transition-colors"},[e("div",_e,[e("div",{class:U([v(n.type),"w-3 h-3 rounded-full mt-1"])},null,2)]),e("div",ke,[e("h4",$e,y(n.title),1),n.description?(r(),d("p",Me,y(n.description),1)):C("",!0),e("div",Ce,[n.time?(r(),d("span",Te,y(n.time),1)):C("",!0),e("span",Se,y(l(n.type)),1)])]),e("div",Fe,[n.actionable?(r(),d("button",{key:0,onClick:w=>t.$emit("event-action",n),class:"text-blue-600 hover:text-blue-800 text-sm font-medium"},y(n.actionText||"View"),9,Ne)):C("",!0)])]))),128))]))]))}},Ge={class:"space-y-6"},Ye={class:"flex items-center justify-between"},Ve={class:"flex items-center space-x-2"},je={key:0,class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},Be={class:"lg:col-span-2"},Ae={class:"space-y-4"},He={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-4"},Pe={class:"space-y-3"},Je={class:"flex justify-between items-center"},Ue={class:"text-sm font-medium text-gray-900"},We={class:"flex justify-between items-center"},qe={class:"text-sm font-medium text-red-600"},ze={class:"flex justify-between items-center"},Le={class:"text-sm font-medium text-green-600"},Ie={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-4"},Oe={class:"grid grid-cols-3 gap-2 text-center"},Qe=["onClick"],Re={__name:"Calendar",props:{goals:{type:Array,default:()=>[]},initialDate:{type:Date,default:()=>new Date}},setup(g){const u=g,{currentMonth:s,selectedDate:x,canGoToPrevious:b,canGoToNext:v,goToPreviousMonth:l,goToNextMonth:t,goToToday:o,selectDate:n,goToMonth:w,generateEventsFromGoals:k,getEventsForSelectedDate:D,getCurrentYear:Y}=Z(u.initialDate),S=H("month"),N=h(()=>k(u.goals)),T=h(()=>D(N.value)),E=h(()=>T.value.filter(c=>c.type==="goal-deadline").length),F=h(()=>T.value.filter(c=>c.type==="goal-completed").length),z=h(()=>{const c=[],m=Y(),$=s.value.getMonth();for(let V=-3;V<=3;V++){const j=$+V;let B=j,J=m;j<0?(B=j+12,J=m-1):j>11&&(B=j-12,J=m+1);const O=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];c.push({label:O[B],index:B,year:J,value:`${J}-${B}`,isCurrent:V===0})}return c}),L=c=>{n(c)},i=c=>{c.actionData&&(c.type.includes("goal")?I.visit(route("goals.show",c.actionData.hash||c.actionData.id)):c.type.includes("task")&&I.visit(route("goals.show",c.actionData.goal.hash||c.actionData.goal.id)))},p=()=>{S.value=S.value==="month"?"week":"month"},a=()=>{const c=s.value.getMonth()+1,m=s.value.getFullYear();window.location.href=route("calendar.export.pdf",{month:c,year:m})},_=(c,m)=>{w(c,m)};return(c,m)=>(r(),d("div",Ge,[e("div",Ye,[M(re,{"current-month":f(s),"disable-previous":!f(b),"disable-next":!f(v),onPrevious:f(l),onNext:f(t)},null,8,["current-month","disable-previous","disable-next","onPrevious","onNext"]),e("div",Ve,[e("button",{onClick:a,class:"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 transition-colors flex items-center space-x-1"},[...m[1]||(m[1]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),e("span",null,"Export PDF",-1)])]),e("button",{onClick:m[0]||(m[0]=(...$)=>f(o)&&f(o)(...$)),class:"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 transition-colors"}," Today "),e("button",{onClick:p,class:"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 transition-colors"},y(S.value==="month"?"Week":"Month"),1)])]),M(pe,{"current-month":f(s),"selected-date":f(x),events:N.value,onSelectDay:L},null,8,["current-month","selected-date","events"]),f(x)?(r(),d("div",je,[e("div",Be,[M(Ee,{"selected-date":f(x),events:T.value,onEventAction:i},null,8,["selected-date","events"])]),e("div",Ae,[e("div",He,[m[5]||(m[5]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Quick Stats",-1)),e("div",Pe,[e("div",Je,[m[2]||(m[2]=e("span",{class:"text-sm text-gray-600"},"Total Events",-1)),e("span",Ue,y(T.value.length),1)]),e("div",We,[m[3]||(m[3]=e("span",{class:"text-sm text-gray-600"},"Goal Deadlines",-1)),e("span",qe,y(E.value),1)]),e("div",ze,[m[4]||(m[4]=e("span",{class:"text-sm text-gray-600"},"Completed Goals",-1)),e("span",Le,y(F.value),1)])])]),e("div",Ie,[m[6]||(m[6]=e("h3",{class:"text-sm font-semibold text-gray-900 mb-3"},"Quick Navigation",-1)),e("div",Oe,[(r(!0),d(G,null,P(z.value,$=>(r(),d("button",{key:$.value,onClick:V=>_($.year,$.index),class:U(["p-2 text-xs rounded hover:bg-gray-100 transition-colors",{"bg-blue-100 text-blue-700":$.isCurrent}])},y($.label),11,Qe))),128))])])])])):C("",!0)]))}},Ke=["content"],Xe={class:"mx-auto max-w-7xl sm:px-6 lg:px-8 py-8"},Ze={class:"mb-8"},et={class:"flex items-center justify-between"},tt={class:"flex items-center space-x-3"},st={key:0,class:"mt-12 text-center"},at={__name:"Calendar",setup(g){const u=K(),s=h(()=>u.props.goals||[]),x=h(()=>"Calendar - Goals & Deadlines"),b=h(()=>new Date),v=h(()=>"View your goals, deadlines, and progress in a calendar format. Stay organized and never miss important dates.");return(l,t)=>(r(),d(G,null,[M(f(R),{title:x.value},{default:A(()=>[e("meta",{name:"description",content:v.value},null,8,Ke)]),_:1},8,["title"]),M(X,null,{default:A(()=>[e("div",Xe,[e("div",Ze,[e("div",et,[t[2]||(t[2]=e("div",null,[e("h1",{class:"text-3xl font-bold text-gray-900"},"Calendar"),e("p",{class:"mt-2 text-gray-600"}," Track your goals, deadlines, and progress in one place ")],-1)),e("div",tt,[M(f(W),{href:l.route("dashboard"),class:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 transition-colors"},{default:A(()=>[...t[0]||(t[0]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})],-1),q(" Dashboard ",-1)])]),_:1},8,["href"]),M(f(W),{href:l.route("goals.index"),class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 transition-colors"},{default:A(()=>[...t[1]||(t[1]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),q(" New Goal ",-1)])]),_:1},8,["href"])])])]),M(Re,{goals:s.value,"initial-date":b.value},null,8,["goals","initial-date"]),s.value.length===0?(r(),d("div",st,[t[4]||(t[4]=e("div",{class:"bg-gray-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center"},[e("svg",{class:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})])],-1)),t[5]||(t[5]=e("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"No goals to display",-1)),t[6]||(t[6]=e("p",{class:"text-gray-500 mb-6"},"Create your first goal to see it in the calendar.",-1)),M(f(W),{href:l.route("goals.create"),class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 transition-colors"},{default:A(()=>[...t[3]||(t[3]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),q(" Create Your First Goal ",-1)])]),_:1},8,["href"])])):C("",!0)])]),_:1})],64))}};export{at as default};
